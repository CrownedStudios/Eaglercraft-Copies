<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Servay</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      overflow: hidden;
      user-select: none; /* Disable text selection */
    }

    #intro-box, #question-box, #lying-box, #result-box, #not-ready-box {
      width: 80%;
      max-width: 600px;
      display: none; /* Initially hidden */
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    button {
      background-color: white;
      color: black;
      font-size: 1.5em;
      padding: 15px 30px;
      border: none;
      margin: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #ddd;
    }

    .red-text {
      color: red;
      font-weight: bold;
    }

    .fade-in {
      opacity: 0;
      transition: opacity 1s;
    }

    .fade-in.visible {
      opacity: 1;
    }
  </style>
</head>
<body>

  <div id="intro-box" class="fade-in visible">
    <h1>Are you ready to play?</h1>
    <button onclick="startGame()">Yes</button>
    <button onclick="notReady()">No</button>
  </div>

  <div id="not-ready-box" class="fade-in">
    <h1 class="red-text">THEN WHY ARE YOU HERE???</h1>
  </div>

  <div id="question-box" class="fade-in">
    <h1 id="question">Welcome to The Servay.</h1>
    <div id="buttons">
      <button id="yes-btn" onclick="answer('yes')">Yes</button>
      <button id="no-btn" onclick="answer('no')">No</button>
    </div>
  </div>

  <div id="lying-box" class="fade-in">
    <h1 id="lying-question" class="red-text">Are you lying?</h1>
    <div id="buttons">
      <button id="lying-yes" onclick="showResult()">Yes</button>
      <button id="lying-no" onclick="showResult()">No</button>
    </div>
  </div>

  <div id="result-box" class="fade-in">
    <h1 id="result-text">This is the Servay, we do not tolerate <span class="red-text">LIERS</span>.</h1>
  </div>

  <audio id="step-sound" src="Step.mp3" preload="auto"></audio>

<script>
    const questions = [
      "Do you feel safe right now?",
      "Have you ever felt watched when alone?",
      "Do you lock your doors at night?",
      "Is there something behind you?",
      "Do you trust yourself?",
      "Do you hear things others don't?",
      "Have you noticed something strange recently?",
      "Are you afraid of the dark?",
      "Do you believe in ghosts?",
      "Are you alone right now?",
      "Have you ever seen something you can’t explain?",
      "Do you ever feel like someone is following you?",
      "Can you feel the room getting colder?",
      "Do you feel like you’ve been here before?",
      "Is something staring at you?",
      "Are you sure you're real?",
      "Do you hear footsteps?",
      "Are you being honest?",
      "Can you sense it?",
      "Is this really happening?",
      "Are you sure you’re awake?",
      "Do you ever feel like someone’s watching you sleep?",
      "Do you think something is hiding in your house?",
      "Is there someone standing in the dark?",
      "Do you feel a chill right now?",
      "Did you hear that noise?",
      "Are you alone?",
      "Is this real?",
      "Do you trust what you see?",
      "Do you feel something is wrong?",
      "Is there something crawling near you?",
      "Do you believe in nightmares?",
      "Have you ever felt a presence behind you?",
      "Do you think the dark holds secrets?",
      "Is there a voice calling your name?",
      "Do you see shadows moving?",
      "Do you feel like you're being tested?",
      "Have you ever felt trapped in your own home?",
      "Can you hear whispers in the wind?",
      "Is your reflection ever different?",
      "Do you believe in alternate realities?",
      "Have you ever had a premonition?",
      "Is there something unsettling about this place?",
      "Do you feel the air grow thick?",
      "Can you hear the silence?",
      "Is something watching you from the corner of your eye?",
      "Do you sometimes lose track of time?",
      "Have you ever seen something in the corner of your vision?",
      "Do you feel something tugging at your consciousness?",
      "Is your mind playing tricks on you?",
      "Do you feel dread without a reason?",
      "Can you sense a change in the atmosphere?",
      "Are you afraid of the unknown?",
      "Is there something in the shadows?",
      "Have you ever felt your heart race for no reason?",
      "Do you believe in things you can't see?",
      "Is your instinct ever wrong?",
      "Do you feel a sense of impending doom?",
      "Have you ever had a déjà vu experience?",
      "Is there a reason for your fear?",
      "Can you see things that others can’t?",
      "Do you think dreams have meaning?",
      "Do you feel connected to something greater?",
      "Is something trying to communicate with you?",
      "Do you sometimes wish you could disappear?",
      "Is your intuition telling you something?",
      "Do you believe in fate?",
      "Have you ever questioned your existence?",
      "Is there a reason you are here?",
      "Do you feel like you're not alone?",
      "Is there something lurking just out of sight?",
      "Can you sense emotions in a room?",
      "Do you believe in a higher power?",
      "Is your heart ever heavy with worry?",
      "Have you ever felt a chill run down your spine?",
      "Do you trust what your senses tell you?",
      "Have you ever felt an unexplainable connection?",
      "Is there a darkness that surrounds you?",
      "Do you believe that everything happens for a reason?",
      "Have you ever seen something that terrified you?",
      "Do you think your thoughts are your own?",
      "Can you feel the weight of the world?",
      "Have you ever felt like someone is waiting for you?",
      "Is there something you wish you could forget?",
      "Do you believe in life after death?",
      "Have you ever felt an urge to scream?",
      "Is something holding you back?",
      "Do you sometimes feel lost?",
      "Are you afraid to find out the truth?",
      "Do you feel drawn to the unknown?",
      "Can you feel the pulse of the earth?",
      "Is there a part of you that feels incomplete?",
      "Do you think fear is a part of life?",
      "Have you ever had a dream that felt real?",
      "Is there something deep within you that is awakening?",
      "Do you ever feel a sense of loss?",
      "Is your soul restless?",
      "Do you believe in the power of thoughts?",
      "Can you hear the echoes of the past?",
      "Do you feel the earth beneath your feet?",
      "Is there a mystery you want to solve?",
      "Do you think there is more to life?",
      "Is there something you're hiding from yourself?",
      "Do you feel like you're on the edge of something?",
      "Are you curious about what lies beyond?",
      "Can you feel the tension in the air?",
      "Is your reality what it seems?",
      "Have you ever felt a surge of energy?",
      "Is something calling out to you?",
      "Do you feel the weight of your decisions?",
      "Is there something you need to confront?",
      "Are you ready to face the unknown?",
      "Have you ever experienced a shift in consciousness?"
    ];
    
  let chosenQuestions = [];
  let currentQuestionIndex = 0;
  let resetCount = 0;

  window.onload = function() {
    document.getElementById('intro-box').style.display = 'block';
    setTimeout(() => {
      document.getElementById('intro-box').classList.add('visible');
    }, 10);
  };

  function startGame() {
    document.getElementById('intro-box').classList.remove('visible');
    setTimeout(() => {
      document.getElementById('intro-box').style.display = 'none';
      resetSurvey();
    }, 1000);
  }

  function notReady() {
    document.getElementById('intro-box').classList.remove('visible');
    setTimeout(() => {
      document.getElementById('intro-box').style.display = 'none';
      document.getElementById('not-ready-box').style.display = 'block';
      document.getElementById('not-ready-box').classList.add('visible');
    }, 1000);

    setTimeout(() => {
      window.close();
    }, 3000);
  }

  function resetSurvey() {
    currentQuestionIndex = 0;
    resetCount++;
    chosenQuestions = [...questions].sort(() => Math.random() - 0.5).slice(0, 20);
    
    document.getElementById('lying-box').style.display = 'none';
    document.getElementById('result-box').style.display = 'none';
    document.getElementById('question-box').style.display = 'block';
    showNextQuestion();
  }

  function answer(response) {
    document.querySelectorAll('#buttons button').forEach(button => button.disabled = true);

    if (Math.random() < 0.1 && resetCount === 1) {
      document.getElementById('question-box').classList.remove('visible');
      setTimeout(() => {
        document.getElementById('question-box').style.display = 'none';
        document.getElementById('lying-box').style.display = 'block';
        document.getElementById('lying-box').classList.add('visible');
      }, 1000);
    } else {
      currentQuestionIndex++;
      showNextQuestion();
    }
  }

  function showNextQuestion() {
    if (currentQuestionIndex >= chosenQuestions.length) {
      resetSurvey();
    } else {
      const question = chosenQuestions[currentQuestionIndex];
      typeWriterEffect(question, document.getElementById('question'), () => {
        document.querySelectorAll('#buttons button').forEach(button => button.disabled = false);
      });
    }
  }

  function showResult() {
    document.getElementById('lying-box').style.display = 'none';
    document.getElementById('result-box').style.display = 'block';
    document.getElementById('step-sound').play();

    setTimeout(() => {
      resetSurvey();
    }, 3000);
  }

  function typeWriterEffect(text, element, callback) {
    let i = 0;
    element.innerHTML = "";
    const interval = setInterval(() => {
      if (i < text.length) {
        element.innerHTML += text.charAt(i);
        i++;
      } else {
        clearInterval(interval);
        if (callback) callback();
      }
    }, 50);
  }
</script>
</body>
</html>
